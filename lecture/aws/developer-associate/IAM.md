# IAM
Identity and Access Management
- global service
  - 사용자를 생성하고 그룹에 배치하기 때문
- 루트 계정은 생성할 때만 사용하고 그 후에 사용하는 것은 지양
- 사용자 생성 시 사용자 그룹으로 묶을 수 있음
  - 그룹에는 사용자만 배치 (그룹 배치 X)
  - 그룹에 포함 되지 않은 사용자도 존재 가능
  - 한 사용자가 다수의 그룹에 속할 수 있음

### 사용자와 그룹을 생성하는 이유?
- 사람들이 AWS 계정을 사용하도록 허용하기 위해
- 접근을 허용하려면 '권한'을 부여해야 함

# IAM 정책
### 정책 부여 방식
- 특정 IAM 사용자들이 그룹에 속해 있을 때, 해당 그룹에 정책을 적용하여 각 사용자에게 동일한 정책을 부여할 수 있음
- 그룹에 속하지 않은 IAM 사용자라 하더라도 사용자에게 직접 '인라인 정책'을 부여할 수 있음
### 정책 구조 
- Version: 정책 언어 버전
- ID: 정책 식별 ID (Optional)
- 문장 (Statement)
  - Sid: 문장 ID, 식별자 (Optional)
  - effect: 특정 API에 접근 허용 여부 (Allow, Deny)
  - Principal: 특정 정책이 사용될 사용자, 계정, 혹은 역할
  - Action: effect에 기반해 허용 및 거부 되는 API 호출 목록
  - Resource: 적용될 action의 리소스 목록
  - Condition: 언제 적용 될지 결정 (Optional)

# MFA
IAM 사용자를 생성했고, 사용자와 그룹이 손상 되지 않도록 보호해야 함   
-> 2가지 매커니즘 존재   
-> 비밀번호 정책 정의, 다중 인증 (MFA)
## 비밀번호 정책 정의
사용하는 비밀번호가 강력할 수록 계정 보안이 강화 됨
1. 최소 비밀번호 길이 설정
2. 특정 문자 유형 요구
3. IAM 사용자들이 비밀번호를 변경하도록 허용
4. 일정 시간 후에 사용자에게 비밀번호 변경 요구
5. 이미 가지고 있거나 이전에 사용했던 비밀번호로 변경 불가
## MFA(Multi Factor Authentication)
우리가 알고 있는 비밀번호와 소유하고 있는 보안 장치의 조합을 사용 -> 보안 강화
### MFA 장치 옵션
1. 가상 MFA 장치
   1. 한번에 하나의 전화에서만 작동하거나 인증을 사용하는 구글 인증키 사용
   2. 원하는 만큼 많은 사용자와 계정 보유 가능
2. 유니버셜 세컨드 팩터 (Universal 2nd Factor, U2F) UTF 보안 키
3. 하드웨어 보안 토큰 MFA 장치
4. 기타 등등 ...

# AWS Access key, CLI 및 SDK
### AWS 접근 방식 3가지
1. Management Console: 비밀번호 + MFA
2. CLI: 액세스 키로 접근
3. SDK: AWS 소프트웨어 개발자 키트

# AWS 서비스에 대한 IAM 역할 + 실습
우리를 대신해 작업을 수행하는 역할   
-> 이 작업을 하려면 권한이 필요함   
-> AWS에 권한을 할당해야 함   
-> 이를 위해 IAM 역할을 생성

사용자와 유사하지만 실제 사용자가 사용하는 것이 아니라 AWS 서비스가 사용하는 것   
(ex. EC2 인스턴스가 AWS에 접근해서 어떤 데이터를 사용하려면, IAM 역할을 이용해야 함!
IAM 역할과 EC2 인스턴스를 하나로 묶어 엔티티라고 하고, 엔티티에 있는 IAM 역할이 적절한 권한을 갖고 있으면 AWS 접근 가능)   
-> AWS의 엔티티(실체)들에게 AWS에서 작업을 수행할 수 있는 권한을 부여하는 것