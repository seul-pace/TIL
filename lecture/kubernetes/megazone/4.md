# ğŸ± ì¿ ë²„ë„¤í‹°ìŠ¤ ê¸°ë°˜ GitOps êµ¬ì¶•í•˜ê¸°
Git ë¸Œëœì¹˜ë¡œ ì‘ì—…í•˜ê¸° 1

---

# 1. Git ë¸Œëœì¹˜ ì‹œì‘í•˜ê¸°

## ë¸Œëœì¹˜ ì´í•´í•˜ê¸° - Commit ìë£Œ êµ¬ì¡°
Gitì€ ë°ì´í„°ë¥¼ Change Setì´ë‚˜ ë³€ê²½ì‚¬í•­(Diff)ìœ¼ë¡œ ê¸°ë¡í•˜ì§€ ì•Šê³  ì¼ë ¨ì˜ ìŠ¤ëƒ…ìƒ·ìœ¼ë¡œ ê¸°ë¡í•œë‹¤.   
ë§Œì•½ 3ê°œì˜ íŒŒì¼ ë³€ê²½ì‚¬í•­ì´ ì»¤ë°‹ ë˜ì—ˆë‹¤ê³  í–ˆì„ ë•Œ,
```shell
$ git add README test.rb LICENSE
$ git commit -m 'The initial commit of my project'
```
ìœ„ì™€ ê°™ì´ ì»¤ë°‹ í•˜ë©´ Git ì €ì¥ì†Œì—ëŠ” **ë‹¤ì„¯ ê°œì˜ ë°ì´í„° ê°œì²´**ê°€ ìƒê¸´ë‹¤.

- Blob: ê°ê°ì˜ íŒŒì¼ì— ëŒ€í•œ ìŠ¤ëƒ…ìƒ·
- Tree ê°œì²´: íŒŒì¼ê³¼ ë””ë ‰í† ë¦¬ êµ¬ì¡°ê°€ ë“¤ì–´ ìˆë‹¤.
- Commit ê°œì²´: ë©”íƒ€ë°ì´í„°ì™€ ë£¨íŠ¸ íŠ¸ë¦¬ë¥¼ ê°€ë¦¬í‚¤ëŠ” í¬ì¸í„°ê°€ ë“¤ì–´ìˆë‹¤.

```
# ì˜ˆì‹œ
1. commit       98ca9
   tree         92ec2
   author       ë¸”ë¼ë¸”ë¼
   committer    ë¸”ë¼ë¸”ë¼
   
        1-1. tree   92ec2
             blob   5b1d3   README
             blob   911e7   test.rb
             blob   cba0a   LICENSE

                    1-1-1. blob 5b1d3
                    1-1-2. blob 911e7
                    1-1-3. blob cba0a 
```

## ë¸Œëœì¹˜ ì´í•´í•˜ê¸° - HEAD í¬ì¸íŠ¸ì™€ ë¸Œëœì¹˜
ì»¤ë°‹ ê°œì²´ëŠ” parent í•­ëª©ì— ì´ì „ ì»¤ë°‹ì´ ë¬´ì—‡ì¸ì§€ ì €ì¥í•œë‹¤.   
íŠ¹ì •í•œ ì»¤ë°‹ìœ¼ë¡œ í¬ì¸í„°(HEAD)ë¥¼ ë§ì¶œ ë•Œ, gitì€ í¬ì¸í„°ì— í•´ë‹¹í•˜ëŠ” ì»¤ë°‹ ê°œì²´ì˜ íŠ¸ë¦¬ ê°œì²´ë“¤ê³¼ Blob ì •ë³´ë¥¼ ì´ìš©í•˜ì—¬ ìŠ¤ëƒ…ìƒ·ì„ ì›Œí‚¹ ë””ë ‰í† ë¦¬ì— ë³µì›í•˜ëŠ” ê²ƒì´ë‹¤.

ê·¸ë¦¬ê³  branchëŠ” ì´ íŠ¹ì •í•œ í¬ì¸í„°(HEAD)ê°€ ê°€ë³ê²Œ ì´ë™í•  ìˆ˜ ìˆëŠ” ì´ì •í‘œë‹¤.

ê¸°ë³¸ì ìœ¼ë¡œ Gitì€ `main` ë¸Œëœì¹˜ë¥¼ ë§Œë“ ë‹¤.   
ì²˜ìŒ ì»¤ë°‹í•˜ë©´ ì´ `main` ë¸Œëœì¹˜ê°€ ìƒì„±ëœ ì»¤ë°‹ì„ ê°€ë¦¬í‚¨ë‹¤.   
ì´í›„ ì»¤ë°‹ì„ ë§Œë“¤ë©´ `main` ë¸Œëœì¹˜ëŠ” ìë™ìœ¼ë¡œ ê°€ì¥ ë§ˆì§€ë§‰ ì»¤ë°‹ì„ ê°€ë¦¬í‚¨ë‹¤.

## ìƒˆ ë¸Œëœì¹˜ ìƒì„±í•˜ê¸°
```shell
$ git branch testing
```
`testing` ë¸Œëœì¹˜ë¥¼ ìƒì„±í–ˆë‹¤.   
Gitì€ ì•„ì§ `main` ë¸Œëœì¹˜ë¥¼ ê°€ë¦¬í‚¤ê³  ìˆë‹¤. -> `git branch` ëª…ë ¹ì€ ë¸Œëœì¹˜ë¥¼ ë§Œë“¤ê¸°ë§Œ í•˜ê³  ë¸Œëœì¹˜ë¥¼ ì˜®ê¸°ì§€ëŠ” ì•ŠëŠ”ë‹¤.

## ë¸Œëœì¹˜ ë¶„ë¦¬í•˜ê¸°
```shell
$ git checkout testing
```
ì´ë ‡ê²Œ í•˜ë©´ HEADëŠ” `testing` ë¸Œëœì¹˜ë¥¼ ê°€ë¦¬í‚¨ë‹¤.   
(ì°¸ê³ ë¡œ ì´ê±° íƒœê·¸ë‘ ê°™ì´ ì‚¬ìš© ë˜ëŠ” ê±°ê³ , íƒœê·¸ì—ì„œ ì‚¬ìš©í•  ë• detached HEAD ëë˜ ê²ƒ ê°™ë‹¤)

```shell
$ git log --oneline --decorate
```
ìš” ì˜µì…˜ì„ ì‚¬ìš©í•˜ë©´ ì‰½ê²Œ ë¸Œëœì¹˜ê°€ ì–´ë–¤ ì»¤ë°‹ì„ ê°€ë¦¬í‚¤ëŠ”ì§€ë„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.
```shell
63f1567 (HEAD -> testing, tag: v1.1, main) add new file
79bb808 (tag: v1.0, origin/main, origin/HEAD) Create create_new
356d467 (tag: v0.9) clear
fee2d89 amend practice
4ef6838 day1 wrapUp
1756c9e add PROJECTS.md
712fd2e First commit
f40611a cleanup
ab3fa9a Initial commit
```

ì´ ìƒíƒœì—ì„œ ìƒˆë¡œìš´ ë™ì‘ì„ ì§„í–‰í•´ë³¸ë‹¤.
```shell
$ echo 'test' > test.rb
$ git add test.rb
$ git commit -m 'made a change'
```
ìƒˆë¡œ ì»¤ë°‹ì„ í–ˆê¸°ì— `testing` ë¸Œëœì¹˜ëŠ” ì•ìœ¼ë¡œ ì´ë™í–ˆì§€ë§Œ, `main` ë¸Œëœì¹˜ëŠ” ì—¬ì „íˆ ì´ì „ ì»¤ë°‹ì„ ê°€ë¦¬í‚¨ë‹¤.

ì—¬ê¸°ì„œ `main` ë¸Œëœì¹˜ë¡œ ë˜ëŒì•„ê°„ ë’¤,   
ìœ„ì˜ ìƒˆ ë™ì‘ì„ í•œ ë²ˆ ë” ì§„í–‰í•´ë³¸ë‹¤.
```shell
$ echo 'test' > test.rb
$ git add test.rb
$ git commit -m 'made other changes'
```
ì´ë ‡ê²Œ ë˜ë©´ í”„ë¡œì íŠ¸ íˆìŠ¤í† ë¦¬ê°€ ë¶„ë¦¬ëœë‹¤.   
ì´ëŸ° ì‹ìœ¼ë¡œ ë‘ ì‘ì—…ì€ ê° ë¸Œëœì¹˜ì— ë…ë¦½ì ìœ¼ë¡œ ì¡´ì¬í•˜ê³ , í•„ìš”í•  ë•Œ ë‘ ë¸Œëœì¹˜ë¥¼ ë³‘í•©(merge)í•œë‹¤.

```shell
$ git log --oneline --decorate --graph --all
* 34cfc20 (HEAD -> main) made other changes
| * e0f57e4 (testing) made a change
|/  
* 63f1567 (tag: v1.1) add new file
* 79bb808 (tag: v1.0, origin/main, origin/HEAD) Create create_new
* 356d467 (tag: v0.9) clear
* fee2d89 amend practice
* 4ef6838 day1 wrapUp
* 1756c9e add PROJECTS.md
* 712fd2e First commit
* f40611a cleanup
* ab3fa9a Initial commit
```
ìš”ë ‡ê²Œ í•˜ë©´ íˆìŠ¤í† ë¦¬ì™€ ì–´ë–»ê²Œ ê°ˆë¼ì ¸ ë‚˜ì™”ëŠ”ì§€ ë³¼ ìˆ˜ ìˆë‹¤.

# 2. Git ë¸Œëœì¹˜ë¡œ ì‘ì—…í•˜ê¸°

## ë¸Œëœì¹˜ë¥¼ í™œìš©í•œ ì‘ì—… ì˜ˆì‹œ ì‹œë‚˜ë¦¬ì˜¤
1. ì›¹ ì‚¬ì´íŠ¸ê°€ ìˆê³  ë­”ê°€ ì‘ì—…ì„ ì§„í–‰í•˜ê³  ìˆë‹¤.
2. ìƒˆë¡œìš´ ì´ìŠˆë¥¼ ì²˜ë¦¬í•  ìƒˆ Branch ë¥¼ í•˜ë‚˜ ìƒì„±í•œë‹¤.
3. ìƒˆë¡œ ë§Œë“  Branchì—ì„œ ì‘ì—…ì„ ì§„í–‰í•œë‹¤.

ì´ë•Œ, ì¤‘ìš”í•œ ë¬¸ì œê°€ ìƒê²¨ì„œ ê·¸ê²ƒì„ í•´ê²°í•˜ëŠ” Hotfixë¥¼ ë¨¼ì € ë§Œë“¤ì–´ì•¼ í•œë‹¤.
1. ìƒˆë¡œìš´ ì´ìŠˆë¥¼ ì²˜ë¦¬í•˜ê¸° ì´ì „ì˜ ìš´ì˜(Production) ë¸Œëœì¹˜ë¡œ ì´ë™í•œë‹¤.
2. Hotfix ë¸Œëœì¹˜ë¥¼ ìƒˆë¡œ í•˜ë‚˜ ìƒì„±í•œë‹¤.
3. ìˆ˜ì •í•œ Hotfix í…ŒìŠ¤íŠ¸ë¥¼ ë§ˆì¹˜ê³  ìš´ì˜ ë¸Œëœì¹˜ë¡œ Merge í•œë‹¤.
4. ë‹¤ì‹œ ì‘ì—…í•˜ë˜ ë¸Œëœì¹˜ë¡œ ì˜®ê²¨ê°€ì„œ í•˜ë˜ ì¼ì„ ì§„í–‰í•œë‹¤.

## Fast-forward Merge

ìš°ì„  ì´ìŠˆ ê´€ë¦¬ ì‹œìŠ¤í…œì— ë“±ë¡ëœ 53ë²ˆ ì´ìŠˆë¥¼ ì²˜ë¦¬í•˜ê³  ìˆì—ˆë‹¤ê³  ê°€ì •í•œë‹¤.   
```shell
$ git checkout -b iss53
```
ìœ„ì˜ `-b` ì˜µì…˜ì€ branchë¥¼ ë§Œë“¤ê³  checkout í•˜ëŠ” ëª…ë ¹ì„ ì¤„ì—¬ë†“ì€ ê²ƒì´ë‹¤.      
ê·¸ë¦¬ê³  ì‘ì—…ì„ ì§„í–‰í•œë‹¤.
```shell
 $ echo '<footer>xxx</footer>' > footer.html
 $ git add .
 $ git commit -m 'added a new footer [issue 53]'
 [iss53 19e60ed] added a new footer [issue 53]
 1 file changed, 1 insertion(+)
 create mode 100644 footer.html
```

ì´ë•Œ ê¸°ì¡´ ì‚¬ì´íŠ¸ì— ë²„ê·¸ê°€ ìƒê²¨ ê³ ì³ì•¼ í•˜ëŠ” ê²½ìš°ê°€ ë°œìƒí•œë‹¤.   
ì‘ì—…ì´ ì„ì´ì§€ ì•Šê¸° ìœ„í•´ `iss53`ê³¼ ê´€ë ¨ëœ ì½”ë“œë¥¼ ì–´ë”˜ê°€ì— ì €ì¥í•´ë‘ê³  ì›ë˜ ìš´ì˜ í™˜ê²½ì˜ ì†ŒìŠ¤ë¡œ ë³µêµ¬í•´ì•¼ í•œë‹¤.   
ë§Œì•½ ì•„ì§ ì»¤ë°‹í•˜ì§€ ì•Šì€ íŒŒì¼ì´ Checkout í•  ë¸Œëœì¹˜ì™€ ì¶©ëŒì´ ë‚˜ë©´ ë¸Œëœì¹˜ë¥¼ ë³€ê²½í•  ìˆ˜ ì—†ë‹¤.   
```shell
$ git checkout main
```
`hotfix`ë¼ëŠ” ë¸Œëœì¹˜ë¥¼ ë§Œë“¤ê³  ìƒˆë¡œìš´ ì´ìŠˆë¥¼ í•´ê²°í•œë‹¤.
```shell
 $ git checkout -b hotfix
 Switched to a new branch 'hotfix'
 $ echo '<address>email</address>' > index.html
 $ git add .
 $ git commit -m 'fixed the broken email address'
 [hotfix 907346f] fixed the broken email address
 1 file changed, 1 insertion(+)
 create mode 100644 index.html
```
ë°°í¬ë¥¼ ìœ„í•´ `hotfix` ë¸Œëœì¹˜ë¥¼ `main` ë¸Œëœì¹˜ì— í•©ì³ì•¼ í•œë‹¤.
```shell
$ git checkout main
$ git merge hotfix
Updating bddd8e4..7dbe307
Fast-forward
 index.html | 1 +
 1 file changed, 1 insertion(+)
 create mode 100644 index.html
```
Merge ë©”ì‹œì§€ì—ì„œ "Fast-forward"ê°€ ë³´ì¸ë‹¤.   
`hotfix` ë¸Œëœì¹˜ê°€ ê°€ë¦¬í‚¤ëŠ” ì»¤ë°‹ì´ `main`ì´ ê°€ë¦¬í‚¤ëŠ” ì»¤ë°‹ì— ê¸°ë°˜í•œ ë¸Œëœì¹˜ì´ê¸° ë•Œë¬¸ì— ë¸Œëœì¹˜ í¬ì¸í„°ëŠ” Merge ê³¼ì • ì—†ì´ ê·¸ì € ìµœì‹  ì»¤ë°‹ìœ¼ë¡œ ì´ë™í•œë‹¤.   
ì´ëŸ° ë°©ì‹ì„ "Fast forward"ë¼ê³  ë¶€ë¥¸ë‹¤.

ì˜¤ ê·¸ë˜ì„œ merge ë¼ê³  ì•ˆ ì í˜”ë‹¤...!

ì•„ë¬´íŠ¼ ê·¸ë¦¬ê³  ë¬¸ì œê°€ í•´ê²° ë˜ì—ˆë‹¤ë©´ í•„ìš” ì—†ëŠ” `hotfix` ë¸Œëœì¹˜ëŠ” ì‚­ì œí•œë‹¤.
```shell
$ git branch -d hotfix
```

## 3-way Merge
