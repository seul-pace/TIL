# ğŸ± ì¿ ë²„ë„¤í‹°ìŠ¤ ê¸°ë°˜ GitOps êµ¬ì¶•í•˜ê¸°
Git Flow í˜‘ì—…í•˜ê¸°

---

# 1. Git Flowë€?

## ë¶„ì‚° í™˜ê²½ì—ì„œì˜ ì›Œí¬í”Œë¡œìš°
Gitì€ êµ¬ì¡°ê°€ ë§¤ìš° ìœ ì—°í•˜ê¸° ë•Œë¬¸ì— ì—¬ëŸ¬ ê°œë°œìê°€ í•¨ê»˜ ì‘ì—…í•˜ëŠ” ë°©ì‹ì„ ë” ë‹¤ì–‘í•˜ê²Œ êµ¬ì„±í•  ìˆ˜ ìˆë‹¤.   
(ë‹¤ ì•„ëŠ” ë‚´ìš©)   

## ì¤‘ì•™ì§‘ì¤‘ì‹ ì›Œí¬í”Œë¡œìš°
ì¤‘ì•™ì§‘ì¤‘ì‹ í˜‘ì—… ëª¨ë¸ì´ë¼ëŠ” í•œ ê°€ì§€ ë°©ì‹ë°–ì— ì—†ë‹¤.   
ì¤‘ì•™ ì €ì¥ì†ŒëŠ” í•˜ë‚˜ë§Œ ìˆê³  ë³€ê²½ ì‚¬í•­ì€ ëª¨ë‘ ì´ ì¤‘ì•™ ì €ì¥ì†Œì— ì§‘ì¤‘ ëœë‹¤. ê°œë°œìëŠ” ì´ ì¤‘ì•™ ì €ì¥ì†Œë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ ì‘ì—…í•œë‹¤.

ì¤‘ì•™ì§‘ì¤‘ì‹ì—ì„œ ê°œë°œì 2ëª…ì´ ì¤‘ì•™ì €ì¥ì†Œë¥¼ Clone í•˜ê³  ê°ì ìˆ˜ì •í•œë‹¤ë©´?   
í•œ ëª…ì´ ìì‹ ì´ í•œ ì¼ì„ ì»¤ë°‹ í•˜ê³  ì•„ë¬´ ë¬¸ì œ ì—†ì´ ì„œë²„ì— Push -> ë‹¤ë¥¸ ê°œë°œìê°€ ìì‹ ì˜ ì¼ì„ ì»¤ë°‹í•˜ê³  Push ì „ì— ì²« ë²ˆì§¸ ê°œë°œìì˜ ì‘ì—…ì„ ë¨¼ì € Merge   

ì¤‘ì•™ì§‘ì¤‘ì‹ ì–´ì°¨í”¼ ì•ˆ ì“°ë‹ˆê¹Œ ë‚´ìš©ì€ ìƒëµí•œë‹¤~~~

## Git Flowë€?
ê¸°ëŠ¥ì€ ì•„ë‹ˆê³  ì„œë¡œ ê°„ì˜ ì•½ì† ê°™ì€ ê°œë…...   
ì™„ë²½í•œ ë°©ë²•ë¡ ì€ ì•„ë‹ˆê³  ê°ì ê°œë°œ í™˜ê²½ì— ë”°ë¼ ìˆ˜ì •í•˜ê³  ë³€í˜•í•´ì„œ ì‚¬ìš©í•˜ë¼ê³  ì–¸ê¸‰í•¨

### ì´ 5ê°œì˜ ë¸Œëœì¹˜
- master: ê¸°ì¤€ì´ ë˜ëŠ” ë¸Œëœì¹˜, ì œí’ˆ ë°°í¬ ë¸Œëœì¹˜
- develop: ê°œë°œ ë¸Œëœì¹˜, ê°œë°œìë“¤ì´ ì´ ë¸Œëœì¹˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ê°ì ì‘ì—…í•œ ê¸°ëŠ¥ì„ í•©ì¹œë‹¤(merge)
- feature: ë‹¨ìœ„ ê¸°ëŠ¥ì„ ê°œë°œí•˜ëŠ” ë¸Œëœì¹˜, ê¸°ëŠ¥ ê°œë°œì´ ì™„ë£Œë˜ë©´ develop ë¸Œëœì¹˜ì— í•©ì¹œë‹¤
- release: ë°°í¬ë¥¼ ìœ„í•´ master ë¸Œëœì¹˜ë¡œ ë³´ë‚´ê¸° ì „ QAë¥¼ í•˜ê¸° ìœ„í•œ ë¸Œëœì¹˜
- hotfix: master ë¸Œëœì¹˜ë¡œ ë°°í¬ í›„ ë²„ê·¸ ë°œìƒ ì‹œ ê¸´ê¸‰ ìˆ˜ì •ì„ ìœ„í•œ ë¸Œëœì¹˜

master, developì´ ì¤‘ìš”í•œ ë©”ì¸ ë¸Œëœì¹˜ë˜~   
(git flow ì„¤ëª… ì‚¬ì§„)

# 2. Git Flow ì‹¤ìŠµ

## ì‹¤ìŠµ ì‹¤í–‰ ì „ repository ì´ˆê¸°í™”
```shell
 # ë¦¬ëª¨íŠ¸ tag ì‚­ì œ
$ git tag -l | xargs -n 1 git push --delete origin
 # ë¡œì»¬ tag ì‚­ì œ
$ git tag | xargs git tag -d
 # ë¦¬ëª¨íŠ¸ branch ì‚­ì œ (main ì œì™¸)
 $ git branch | grep -v "main" | xargs git push origin -d
 # ë¡œì»¬ branch ì‚­ì œ (main ì œì™¸)
 $ git branch | grep -v "main" | xargs git branch -D
```

## ì‹œë‚˜ë¦¬ì˜¤ 1
- develop ê°œë°œ ë¸Œëœì¹˜ê°€ ìµœì´ˆë¡œ ìƒì„±ë¨
- ì´ˆê¸°ì— ê°œë°œìë“¤ì´ ê°œë°œí•˜ì—¬ commit

```shell
$ git checkout develop

# C1, C2 ì»¤ë°‹ (ê°œë°œì ì‘ì—…)
$ echo 'text' > C1
$ git add .
$ git commit -m 'C1'
$ echo 'text' > C2
$ git add .
$ git commit -m 'C2'
```

## ì‹œë‚˜ë¦¬ì˜¤ 2
- ë™ì‹œì— 2ê°€ì§€ ê¸°ëŠ¥ ê°œë°œ
  - feature/1: ì‘ì€ ê¸°ëŠ¥
  - feature/2: í° ê¸°ëŠ¥
- developìœ¼ë¡œë¶€í„° 2ê°œì˜ ë¸Œëœì¹˜ê°€ íŒŒìƒ

```shell
$ git checkout develop
$ git branch feature/1
$ git branch feature/2

# feature1 ê°œë°œìê°€ C3 commit
$ git checkout feature/1
$ echo 'text' > C3
$ git add .
$ git commit -m 'C3'
```

## ì‹œë‚˜ë¦¬ì˜¤ 3
- ìš´ì˜ ì–´í”Œë¦¬ì¼€ì´ì…˜ì— ê¸´ê¸‰ ìˆ˜ì • ì‚¬í•­ ë°œìƒ
- main ë¸Œëœì¹˜ë¡œë¶€í„° hotfix ë¸Œëœì¹˜ ìƒì„±
- ê¸´ê¸‰ ìˆ˜ì • ë°˜ì˜ í›„ main, develop ë¸Œëœì¹˜ ì–‘ìª½ì— ë³‘í•©

```shell
$ git checkout main
$ git checkout -b hotfix/1

# ê¸´ê¸‰ ìˆ˜ì •
$ echo 'text' > C4
$ git add .
git commit -m 'C4'

# develop, main ì–‘ìª½ì— ë°˜ì˜
# --no-ff ì˜µì…˜ì„ ì£¼ì–´ Fast-forward ë°©ì§€, 3way merge ê°•ì œ
$ git checkout develop
$ git merge hotfix/1 --no-ff
$ git checkout main
$ git merge hotfix/1 --no-ff
```

## ì‹œë‚˜ë¦¬ì˜¤ 4
- feature/1 ê°œë°œ ë§ˆë¬´ë¦¬
- developìœ¼ë¡œ merge

```shell
$ git checkout feature/1
$ echo 'text' > C5
$ git add .
$ git commit -m 'C5'

# ë³‘í•©
$ git checkout develop
$ git merge feature/1 --no-ff 
```

## ì‹œë‚˜ë¦¬ì˜¤ 5
- feature/1 ê¸°ëŠ¥ê¹Œì§€ ìš´ì˜ ë°°í¬ ì§„í–‰
- QAë¥¼ ìœ„í•´ ë¦´ë¦¬ì¦ˆ 1.0 êµ¬ì„±
- QA ì¤‘ ë²„ê·¸ ë°œê²¬, ë¦´ë¦¬ì¦ˆì—ì„œ ë²„ê·¸ ìˆ˜ì •
- QA í†µê³¼ í›„ main, develop ë¸Œëœì¹˜ ì–‘ìª½ì— ë³‘í•©

```shell
# developì—ì„œ release/1.0 ë¶„ê¸°
$ git checkout develop
$ git checkout -b release/1.0

# QA ì¤‘ ë²„ê·¸ ë°œê²¬ ìˆ˜ì •
$ echo 'text' > C6
$ git add .
$ git commit -m 'C6'

# QA í†µê³¼, develop, main ì–‘ìª½ì— ë°˜ì˜
$ git checkout develop
$ git merge release/1.0 --no-ff
$ git checkout main
$ git merge release/1.0 --no-ff
```

## ì‹œë‚˜ë¦¬ì˜¤ 6
- feature/2 ê°œë°œ ì™„ë£Œ
- QAë¥¼ ìœ„í•´ ë¦´ë¦¬ì¦ˆ 1.1 êµ¬ì„±
- ë²„ê·¸ ìˆ˜ì • í›„ ìš´ì˜ ë°°í¬

```shell
# feature/2 ê°œë°œ ì™„ë£Œ
$ git checkout feature/2
$ echo 'text' > C7
$ git add .
$ git commit -m 'C7'
$ echo 'text' > C8
$ git add .
$ git commit -m 'C8'

# develop ë³‘í•©
$ git checkout develop
$ git merge feature/2 --no-ff

# QA ìˆ˜í–‰ì„ ìœ„í•œ release/1.1 êµ¬ì„±
$ git checkout develop
$ git checkout -b release/1.1

# QA ì¤‘ ë²„ê·¸ ë°œê²¬, ìˆ˜ì •
$ echo 'text' > C9
$ git add .
$ git commit -m 'C9'

# QA í†µê³¼, develop, main ë°˜ì˜
$ git checkout develop
$ git merge release/1.1 --no-ff
$ git checkout main
$ git merge release/1.1 --no-ff
```